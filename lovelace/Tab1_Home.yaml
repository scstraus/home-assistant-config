### MAIN DASHBOARD FOR MOBILE AND BROWSER ###

title: Home
icon: mdi:home
visible:
  - user: 81d8e5c60d3a49708ab5ff7f956ac284
  - user: b78739f1b439447a9036d38a8c152be8
  - user: a4425eb8f5064e0bb63712f390023ee2
  - user: cb904806764d46bfbfb049d6e6939586

### These are just the cards that you see only sometimes under certain conditions in the first tab (non kiosk flavor)
###### START COMMENT BLOCK 1: POPUP CARDS

popup_cards:

  weather.openweathermap:
    title: Weekly Weather Forecast
    card: 
      type: 'custom:weather-card-chart'
      weather: weather.weather_forecast
      sun: sun.sun
      temp: sensor.smartweatherudp_temperature
      wind: sensor.smartweather_wind_gust

  sensor.sean_location:
    title: Sean Location History and Time to Home
    card:
      type: vertical-stack
      in_card: true
      cards:
      - type: history-graph
        entities:
          - sensor.sean_location
      - type: markdown
        content: |
          ## {{ states('sensor.sean_eta')}}
          {{ states('sensor.sean_eta_description')}} 

  sensor.sophie_location:
    title: Sophie Location History and Time to Home
    card:
      type: vertical-stack
      in_card: true
      cards:
      - type: history-graph
        entities:
          - sensor.sophie_location
      - type: markdown
        content: |
          ## {{ states('sensor.sophie_eta')}}
          {{ states('sensor.sophie_eta_description')}} 

  sensor.alena_location:
    title: Alena Location History and Time to Home
    card:
      type: vertical-stack
      in_card: true
      cards:
      - type: history-graph
        entities:
          - sensor.alena_location
      - type: markdown
        content: |
          ## {{ states('sensor.alena_eta')}}
          {{ states('sensor.alena_eta_description')}} 

  input_boolean.sophies_air_purifier:
    title: "Sophie's Air Purifier"
    card:
      type: vertical-stack
      in_card: true
      cards:
      - type: history-graph
        entities:
          - input_boolean.sophies_air_purifier
      - type: history-graph
        entities:
          - sensor.hlubocepy_air_quality
      - type: history-graph
        entities:
          - sensor.sophies_room_aqi
#      - type: markdown
#        content: |
#          Last Hour Availability:
      - type: history-graph
        entities:
          - fan.sophies_room_air_purifier
        hours_to_show: 1

  input_boolean.sebastians_air_purifier:
    title: "Sebastian's Air Purifier"
    card:
      type: vertical-stack
      in_card: true
      cards:
      - type: history-graph
        entities:
          - input_boolean.sebastians_air_purifier
      - type: history-graph
        entities:
          - sensor.hlubocepy_air_quality
      - type: history-graph
        entities:
          - sensor.sebastians_room_aqi
#      - type: markdown
#        content: |
#          Last Hour Availability:
      - type: history-graph
        entities:
          - fan.sebastians_room_air_purifier
        hours_to_show: 1


  fan.master_bedroom_air_purifier:
    title: "Master Bedroom Air Purifier"
    card:
      type: vertical-stack
      in_card: true
      cards:
      - type: history-graph
        entities:
          - fan.master_bedroom_air_purifier
      - type: history-graph
        entities:
          - sensor.hlubocepy_air_quality
      - type: history-graph
        entities:
          - sensor.master_bedroom_aqi

  binary_sensor.cooper_s_e_all4_door_lock_state:
    title: "Car Lock"
    card:
      type: vertical-stack
      in_card: true
      cards:
      - type: entities
        entities:
          - binary_sensor.cooper_s_e_all4_door_lock_state
      - type: history-graph
        entities:
          - binary_sensor.cooper_s_e_all4_door_lock_state
      - type: button
        name: Press to Lock the Car
        tap_action:
          action: call-service
          service: lock.lock
          service_data:
            entity_id: lock.cooper_s_e_all4_lock
        entity: lock.cooper_s_e_all4_lock

  sensor.trash_display:
    title: "Trash Needs Taking Out"
    card:
      type: button
      name: I took it out!
      tap_action:
        action: call-service
        service: input_boolean.turn_off
        service_data:
          entity_id: input_boolean.trash_needs_taking_out
      entity: sensor.trash_display

  sensor.rain_sensor:
    title: "Rain Summary"
    card:
      type: vertical-stack
      in_card: true
      cards:
      - type: history-graph
        entities:
          - sensor.rain_sensor
      - type: history-graph
        entities:
          - sensor.smartweather_rain_rate


  sensor.high_wind_warning:
    title: "Wind Summary"
    card:
      type: vertical-stack
      in_card: true
      cards:
      - type: history-graph
        entities:
          - sensor.high_wind_warning
      - type: history-graph
        entities:
          - sensor.smartweatherudp_wind_speed_realtime

### END COMMENT BLOCK 1: POPUP CARDS



cards: 


### START COMMENT BLOCK 2: DECLUTTERING CARDS 




  - type: custom:decluttering-card
    template: emergency
    variables:
      - entity: binary_sensor.basement_is_flooding
      - state: 'on'
      - name: "The Basement is Flooding!!"

  - type: custom:decluttering-card
    template: emergency
    variables:
      - entity: binary_sensor.server_room_flood_sensor
      - state: 'on'
      - name: "The Server Room is Flooding!!"

  - type: custom:decluttering-card
    template: alert
    variables:
      - entity: binary_sensor.trash_emergency
      - state: 'on'
      - name: "Take Out the Trash Now!"

  - type: custom:decluttering-card
    template: warning_2line
    variables:
      - entity: binary_sensor.sebastians_room_rain_window
      - state: 'on'
      - name: "Sebastian's window is open and there is a forecast for rain"

  - type: custom:decluttering-card
    template: warning_2line
    variables:
      - entity: binary_sensor.sophies_room_rain_window
      - state: 'on'
      - name: "Sophie's window is open and there is a forecast for rain"

  - type: custom:decluttering-card
    template: warning
    variables:
      - entity: binary_sensor.human_back
      - state: 'on'
      - name: "Person Spotted in Back Yard"

  - type: custom:decluttering-card
    template: warning
    variables:
      - entity: binary_sensor.kitchen_sink_flood_sensor
      - state: 'on'
      - name: "Water Under the Kitchen Sink"

  - type: custom:decluttering-card
    template: warning
    variables:
      - entity: binary_sensor.human_front
      - state: 'on'
      - name: "Person Spotted in Front of House"

  - type: custom:decluttering-card
    template: warning
    variables:
      - entity: binary_sensor.human_left
      - state: 'on'
      - name: "Person Spotted on Left of House"

  - type: custom:decluttering-card
    template: warning
    variables:
      - entity: binary_sensor.human_right
      - state: on
      - name: "Person Spotted on Right of House"

  - type: custom:decluttering-card
    template: very_low_battery
    variables:
      - entity: sensor.seans_phone_battery
      - state: Very Low
      - name: "Sean's Phone Battery is Very Low"

  - type: custom:decluttering-card
    template: very_low_battery
    variables:
      - entity: sensor.sophies_phone_battery
      - state: Very Low
      - name: "Sophie's Phone Battery is Very Low"

  - type: custom:decluttering-card
    template: very_low_battery
    variables:
      - entity: sensor.alenas_phone_battery
      - state: Very Low
      - name: "Alena's Phone Battery is Very Low"

  - type: custom:decluttering-card
    template: very_low_battery_marquee
    variables:
      - entity: sensor.living_room_nest_protect_battery_health
      - state: Replace
      - name: "Replace Battery: Living Room Smoke Alarm"

#  - type: custom:decluttering-card
#    template: very_low_battery_marquee
#    variables:
#      - entity: sensor.2nd_floor_smoke_alarm_battery_level
#      - state: Replace
#      - name: "Replace Battery: Master Bedoom Smoke Alarm"

  - type: custom:decluttering-card
    template: very_low_battery_marquee
    variables:
      - entity: sensor.kids_room_nest_protect_battery_health
      - state: Replace
      - name: "Replace Battery: Sophie's Bedoom Smoke Alarm"

  - type: custom:decluttering-card
    template: very_low_battery_marquee
    variables:
      - entity: sensor.basement_nest_protect_battery_health
      - state: Replace
      - name: "Replace Battery: Basement Smoke Alarm"

  - type: custom:decluttering-card
    template: very_low_battery
    variables:
      - entity: sensor.car_needs_charging
      - state: "Charge It"
      - name: "The Car Needs to Be Plugged In"

  - type: custom:decluttering-card
    template: warning
    variables:
      - entity: sensor.low_gas_in_car
      - state: "Fill It"
      - name: "The Car Needs Gas"

#  - type: custom:decluttering-card
#    template: warning_marquee
#    variables:
#      - entity: binary_sensor.car_charging_problem
#      - state: 'on'
#      - name: "Car Charging Problem: Unplug it, turn the car off and on, and plug it back in."

  - type: custom:decluttering-card
    template: low_battery
    variables:
      - entity: sensor.seans_phone_battery
      - state: Low
      - name: "Sean's Phone Battery is Low"

  - type: custom:decluttering-card
    template: low_battery
    variables:
      - entity: sensor.sophies_phone_battery
      - state: Low
      - name: "Sophie's Phone Battery is Low"

  - type: custom:decluttering-card
    template: low_battery
    variables:
      - entity: sensor.alenas_phone_battery
      - state: Low
      - name: "Alena's Phone Battery is Low"


### END COMMENT BLOCK 2: DECLUTTERING CARDS 


### START COMMENT BLOCK 3: ENTITY FILTER CARDS
  - type: entity-filter
    card: 
      title: "!!! EMERGENCY ALERT !!!"
      show_header_toggle: false
    entities:
    - sensor.living_room_nest_protect_co_status
    - sensor.living_room_nest_protect_smoke_status
    - sensor.master_bedroom_nest_protect_co_status
    - sensor.master_bedroom_nest_protect_smoke_status
    - sensor.kids_room_nest_protect_co_status
    - sensor.kids_room_nest_protect_smoke_status
    - sensor.basement_nest_protect_co_status
    - sensor.basement_nest_protect_smoke_status
    - sensor.living_room_nest_protect_color_status
#    - sensor.master_bedroom_nest_protect_color_status
    - sensor.kids_room_nest_protect_color_status
    - sensor.basement_nest_protect_color_status
    - sensor.house_electricity
#    - sensor.object_detection_front
#    - sensor.object_detection_left
#    - sensor.object_detection_right
#    - sensor.object_detection_back
#    - binary_sensor.human_back
#    - binary_sensor.human_front 
#    - binary_sensor.human_left
#    - binary_sensor.human_right
#    - binary_sensor.basement_is_flooding
    state_filter:
    - "red"
    - "Emergency"
    - "power_out"
#    - "Person Detected"
    - "on"
    - "yes"
    show_empty: false
    
  - type: custom:auto-entities
    show_empty: false
    card:
      type: entities
      title: Devices Reporting Problems
      show_header_toggle: false
    filter: 
      include: 
        - entity_id: "*nest*"
          or: 
            - state: "unavailable"
            - state: "Warning"
            - state: "grey"
            - state: "yellow"
            - state: "off"
            - state: "disconnected"
        - entity_id: "zwave.*"
          or: 
            - state: "dead"          
            - state: "unavailable"
        - entity_id: "*status_smart*"
          or:
            - state: "warning"
            - state: "critical"
            - state: "failing"
            - state: "access error"
            - state: "Replace"
        - entity_id: "binary_sensor.alarm_connection"
          or:
            - state: "warning"
            - state: "access error"
            - state: "unavailable"
            - state: "disconnected"
    show_empty: false

#        - state: "Warning"
#        - state: "grey"
#        - state: "yellow"
#        - state: "dead"
#        - state: "Disconnected"
#        - state: "warning"
#        - state: "critical"
#        - state: "failing"
#        - state: "access error"
#        - state: "Replace"

#        - state: "unavailable"
#        - state: "off"

#
#  - type: entity-filter
#    card: 
#      title: Devices Reporting Problems
#      show_header_toggle: false
#    entities:
#    - sensor.living_room_nest_protect_co_status
#    - sensor.living_room_nest_protect_smoke_status       
##    - sensor.master_bedroom_nest_protect_co_status
##    - sensor.master_bedroom_nest_protect_smoke_status
#    - sensor.kids_room_nest_protect_co_status
#    - sensor.kids_room_nest_protect_smoke_status
#    - sensor.basement_nest_protect_co_status
#    - sensor.basement_nest_protect_smoke_status
#    - binary_sensor.living_room_nest_protect_online
#    - sensor.living_room_nest_protect_color_status
##    - binary_sensor.master_bedroom_nest_protect_online
##    - sensor.master_bedroom_nest_protect_color_status
#    - binary_sensor.kids_room_nest_protect_online
#    - sensor.kids_room_nest_protect_color_status
#    - binary_sensor.basement_nest_protect_online
#    - sensor.basement_nest_protect_color_status
#    - zwave.aeotec_zw090_z_stick_gen5_eu
#    - zwave.aeotec_zw096_smart_switch_6
#    - zwave.neo_coolcam_door_window_detector
#    - zwave.neo_coolcam_door_window_detector_2
#    - zwave.neo_coolcam_unknown_type_0200_id_1027
#    - zwave.popp_unknown_type_0004_id_0014
#    - binary_sensor.alarm_connection
#    - sensor.discworld_status_smart_sda
#    - sensor.discworld_status_smart_sdb
#    - sensor.discworld_status_smart_sdc
#    - sensor.discworld_status_smart_sdd
#    - zwave.sebastian_room_left_window
#    - zwave.basement_flood_sensor
#    - zwave.ecolink_sophies_room_ceiling_window
#    - zwave.ecolink_closet_left_window
#    - zwave.ecolink_garage_door_sensor
#    - zwave.ecolink_basement_sliding_door
#    - zwave.ecolink_master_bedroom_window_sensor
#    - zwave.2nd_floor_smoke_detector
#    state_filter:
#    - "unavailable"
#    - "Warning"
#    - "grey"
#    - "yellow"
#    - "off"
#    - "dead"
#    - "disconnected"
#    - "warning"
#    - "critical"
#    - "failing"
#    - "access error"
#    show_empty: false

  - type: entity-filter
    card:
      title: "Low Battery"
      show_header_toggle: false
    state_filter:
    - "Replace"
    - "Low"
    - operator: "<"
      value: 30
    entities:
    - sensor.living_room_nest_protect_battery_health
#    - sensor.master_bedroom_nest_protect_battery_health
    - sensor.kids_room_nest_protect_battery_health
    - sensor.basement_nest_protect_battery_health
#    - sensor.seans_phone_battery
#    - sensor.alenas_phone_battery
#    - sensor.sophies_iphone_se_battery_level
    - sensor.closet_window_sensor_1_battery
    - sensor.back_door_sensor_battery
    - sensor.sophies_phone_battery
    - sensor.guest_bedroom_window_1_battery
    - sensor.basement_flood_sensor_battery
    - sensor.sebastian_left_window_battery
    - sensor.sophies_room_ceiling_window_sensor_battery_level
    - sensor.ecolink_closet_left_window_battery_level
    - sensor.ecolink_garage_door_battery_level
    - sensor.ecolink_basement_sliding_door_battery_level
    - sensor.master_bedroom_window_sensor_battery_level
    - sensor.2nd_floor_smoke_alarm_battery_level
    show_empty: false

#  - type: custom:badge-card
#    badges:
#    - entity: sensor.czechia_coronavirus_current
#    - entity: variable.czechia_coronavirus_new_yesterday
#    - entity: variable.czechia_coronavirus_new_today

  #Coronavirus card
  - type: picture-elements
    image: /local/images/coronavirus_transparent.png
    elements:
      - type: icon
        icon: mdi:virus-outline
        style:
          top: 18%
          left: 10%
          color: var(--ha-card-header-color)
      - type: icon
        icon: mdi:virus-outline
        style:
          top: 18%
          right: 1%
          color: var(--ha-card-header-color)
      # Header
      - style:
          font-size: large
          left: 35%
          top: 18%
          color: var(--ha-card-header-color)
        text: Coronavirus
        type: 'custom:text-element'
      - style:
          font-size: large
          left: 56%
          top: 18%
          color: var(--ha-card-header-color)
        text: In
        type: 'custom:text-element'
      - style:
          font-size: large
          left: 71%
          top: 18%
          color: var(--ha-card-header-color)
        text: Czechia
        type: 'custom:text-element'
      #Numbers
      - type: state-label  
        entity: sensor.czechia_coronavirus_current
        style:
          font-size: x-large
          left: 20%
          top: 46%
      - type: state-label  
        entity: variable.czechia_coronavirus_new_yesterday
        style:
          font-size: x-large
          left: 51%
          top: 46%
      - type: state-label  
        entity:  variable.czechia_coronavirus_new_today
        style:
          font-size: x-large
          left: 82%
          top: 46%
      #Units top row
      - style:
          font-size: small
          left: 20%
          top: 68%
        text: Active
        type: 'custom:text-element'
      - style:
          font-size: small
          left: 51%
          top: 68%
        text: New
        type: 'custom:text-element'
      - style:
          font-size: small
          left: 82%
          top: 68%
        text: New
        type: 'custom:text-element'
      #Units bottom row
      - style:
          font-size: small
          left: 20%
          top: 83%
        text: Cases
        type: 'custom:text-element'
      - style:
          font-size: small
          left: 51%
          top: 83%
        text: Yesterday
        type: 'custom:text-element'
      - style:
          font-size: small
          left: 82%
          top: 83%
        text: Today
        type: 'custom:text-element'


  - type: entity-filter
    state_filter:
    - "on"
    - "Delivery"
    - "delivery"
    - "yes"
    - "Open"
    - "Clean"
    - "Today"
    - "Tomorrow"
    - "armed_away"
    - "!Now!"
    - operator: ">"
      value: -1
    - "Drizzle"
    - "Slight"
    - "Moderate"
    - "Heavy"
    - "Very Heavy"
    - "High"
    - "Very High"
    - "Dangerous"
    - "Moderate Rain"
    - "Heavy Rain"
    - "Heavy Shower"
    - "Very Heavy Shower"
    - "Violent Shower"
    entities:
    - variable.posta_variable
    - variable.dhl_variable
    - variable.dpd_variable
    - variable.gls_variable
    - sensor.bio_odpad_day
    - sensor.bike_day
    - binary_sensor.back_door
    - binary_sensor.garage_door
    - binary_sensor.front_door_zone_1
    - input_select.bosch_dishwasher_status
    - binary_sensor.popp_unknown_type_0004_id_0014_sensor
    - input_select.miele_washing_machine_status
    - input_select.lg_washing_machine_status
    - binary_sensor.ecolink_garage_door
    - sensor.czech_holidays_event_0
    - sensor.alarm_state_3_motion_sensors
    - sensor.alarm_state_2_1st_floor
    - sensor.alarm_state_1_laundry
    - sensor.trash_display
    - binary_sensor.basement_sliding_door
    - sensor.kite_day
    - sensor.rain_sensor
    - sensor.high_wind_warning
    - entity: sensor.last_lightning
      state_filter:
        - operator: "!="
          value: "no"
    card: 
      type: glance
      title: "Happening Today"
    show_empty: false    

  - type: entity-filter
    show_empty: false
    card:
      title: "Upcoming Holidays"
      show_header_toggle: false
    state_filter:
      - operator: regex
        value: "^([0-7]{1})$"
        attribute: eta
    entities:
      - entity: sensor.czech_holiday_friendly_0
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "[[ {entity}.attributes.date ]]"
      - entity: sensor.czech_holiday_friendly_1
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "[[ {entity}.attributes.date ]]"
      - entity: sensor.czech_holiday_friendly_2
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "[[ {entity}.attributes.date ]]"
      - entity: sensor.czech_holiday_friendly_3
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "[[ {entity}.attributes.date ]]"
      - entity: sensor.czech_holiday_friendly_4
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "[[ {entity}.attributes.date ]]"
      - entity: sensor.parklane_holiday_friendly_0
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "[[ {entity}.attributes.date ]]"
      - entity: sensor.parklane_holiday_friendly_1
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "[[ {entity}.attributes.date ]]"
      - entity: sensor.parklane_holiday_friendly_2
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "[[ {entity}.attributes.date ]]"
      - entity: sensor.parklane_holiday_friendly_3
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "[[ {entity}.attributes.date ]]"
      - entity: sensor.parklane_holiday_friendly_4
        type: "custom:secondaryinfo-entity-row"
        secondary_info: "[[ {entity}.attributes.date ]]"

### END COMMENT BLOCK 3: ENTITY FILTER CARDS



#### These are the cards you see all the time in the first tab (non kiosk flavor)



#  - type: markdown
#    content: |
#      ## [[ sensor.sean_commute ]]


#  - type: custom:mod-card
#    report_size: 9
#    card:

### START COMMENT BLOCK 4: Weather and air quality

  - type: custom:mod-card
    report_size: 14
    card:

      type: vertical-stack
      cards:

      - type: 'custom:weather-card-chart'
        title: Weather / Air Quality
        weather: weather.smartweather_home
        sun: sun.sun
        mode: hourly
        temp: sensor.smartweatherudp_temperature
        wind: sensor.smartweather_wind_gust

      - type: conditional
        conditions:
          - entity: 'binary_sensor.open_window_making_air_problem'
            state: 'on'
        card:
          type: markdown
          content: |
            {{states('input_text.windows_making_problem')}}
 

#      - type: conditional
#        conditions:
#          - entity: 'binary_sensor.open_window_making_house_cold'
#            state: 'on'
#        card:
#          type: markdown
#          content: |
#            <ha-icon icon="mdi:snowflake"></ha-icon> {{states('input_text.windows_making_house_cold')}}
# 

#      - type: custom:decluttering-card
#        template: open_windows_cold_nomarquee
#
#      - type: custom:decluttering-card
#        template: open_windows_hot_nomarquee

      - type: conditional
        conditions:
          - entity: 'binary_sensor.open_window_making_house_hot'
            state: 'on'
        card:
          type: markdown
          content: |
            <ha-icon icon="mdi:fire"></ha-icon> {{states('input_text.windows_making_house_hot')}}
 

#These are the colors to use for the environment graph cards
#HSV: X°, 100%, 77%
#card green: #00c40a
#card yellow: #c1c400
#card orange: #c48600
#card red: #c41700
#card magenta: #c4007c
#card violet: #b000c4
#
#HSV: X°, 39%, 100%
#graph green: #9cffa1
#graph yellow: #fdff9c
#graph orange: #ffe09c
#graph red: #ffa79c
#graph magenta: #ff9cdb
#graph violet: #f59cff

      - type: horizontal-stack
        cards:

        - type: custom:mini-graph-card
          name: AQI Outside 
          icon: mdi:air-filter
          style: |
            ha-card {
              background: {% if states('sensor.hlubocepy_air_quality')|int <= 50 %}
              #00c40a
              {% elif states('sensor.hlubocepy_air_quality')|int <= 100 %} 
              #c1c400 
              {% elif states('sensor.hlubocepy_air_quality')|int <= 150 %}
              #c48600
              {% elif states('sensor.hlubocepy_air_quality')|int <= 200 %}
              #c41700
              {% elif states('sensor.hlubocepy_air_quality')|int <= 300 %}
              #b000c4
              {% else %}
              #c4007c
              {% endif %}
          entities:
            - entity: sensor.hlubocepy_air_quality
              name: 
          color_thresholds:
            - value: 25
              color: "#9cffa1"
            - value: 75
              color: "#fdff9c"
            - value: 125
              color: "#ffe09c"
            - value: 175
              color: "#ffa79c"
            - value: 250
              color: "#f59cff"
            - value: 350
              color: "#ff9cdb"
          hours_to_show: 24
          points_per_hour: 2
          show_points: false
          height: 60
#
#        - type: custom:mini-graph-card
#          name: CO2 Indoors
#          icon: mdi:air-filter
#          style: |
#            ha-card {
#              background: {% if states('sensor.hlubocepy_air_quality')|int <= 700 %}
#              #00c40a
#              {% elif states('sensor.hlubocepy_air_quality')|int <= 1000 %} 
#              #c1c400 
#              {% elif states('sensor.hlubocepy_air_quality')|int <= 1500 %}
#              #c48600
#              {% elif states('sensor.hlubocepy_air_quality')|int <= 2000 %}
#              #c41700
#              {% elif states('sensor.hlubocepy_air_quality')|int <= 5000 %}
#              #b000c4
#              {% else %}
#              #c4007c
#              {% endif %}
#          entities:
#            - entity: sensor.home_co2
#              name: 
#          color_thresholds:
#            - value: 350
#              color: "#9cffa1"
#            - value: 850
#              color: "#fdff9c"
#            - value: 1250
#              color: "#ffe09c"
#            - value: 1750
#              color: "#ffa79c"
#            - value: 3500
#              color: "#f59cff"
#            - value: 6500
#              color: "#ff9cdb"
#          hours_to_show: 24
#          points_per_hour: 2
#          show_points: false
#          height: 60

        - type: custom:mini-graph-card
          name: AQI Inside
          icon: mdi:air-filter
          style: |
            ha-card {
              background: {% if states('sensor.home_air_quality')|int <= 50 %}
              #00c40a
              {% elif states('sensor.home_air_quality')|int <= 100 %} 
              #c1c400 
              {% elif states('sensor.home_air_quality')|int <= 150 %}
              #c48600
              {% elif states('sensor.home_air_quality')|int <= 200 %}
              #c41700
              {% elif states('sensor.home_air_quality')|int <= 300 %}
              #b000c4
              {% else %}
              #c4007c
              {% endif %}
          entities:
            - entity: sensor.home_air_quality
              name: 
          color_thresholds:
            - value: 25
              color: "#9cffa1"
            - value: 75
              color: "#fdff9c"
            - value: 125
              color: "#ffe09c"
            - value: 175
              color: "#ffa79c"
            - value: 250
              color: "#f59cff"
            - value: 350
              color: "#ff9cdb"
          hours_to_show: 24
          points_per_hour: 2
          show_points: false
          height: 60


      - type: horizontal-stack
        cards:

        - type: custom:mini-graph-card
          name: Radon Upstairs
          style: |
            ha-card {
              background: {% if states('sensor.radon_upstairs')|int <= 100 %}
              #00c40a
              {% elif states('sensor.radon_upstairs')|int <= 150 %} 
              #c1c400 
              {% else %}
              #c41700
              {% endif %} 
          entities:
            - entity: sensor.radon_upstairs
              name: 
          color_thresholds:
            - value: 0
              color: "#9cffa1"
            - value: 90
              color: "#9cffa1"
            - value: 110
              color: "#fdff9c"
            - value: 140
              color: "#fdff9c"
            - value: 160
              color: "#ffe09c"
            - value: 200
              color: "#ffe09c"
          hours_to_show: 24
          points_per_hour: 2
          show_points: false
          height: 60

        - type: custom:mini-graph-card
          name: VOC Upstairs
          style: |
            ha-card {
              background: {% if states('sensor.tvocs_upstairs')|int <= 250 %}
              #00c40a
              {% elif states('sensor.tvocs_upstairs')|int <= 2000 %} 
              #c1c400 
              {% else %}
              #c41700
              {% endif %}
          entities:
            - entity: sensor.tvocs_upstairs
              name: 
          color_thresholds:
            - value: 0
              color: "#9cffa1"
            - value: 240
              color: "#9cffa1"
            - value: 260
              color: "#fdff9c"
            - value: 1990
              color: "#fdff9c"
            - value: 2010
              color: "#ffe09c"
            - value: 3000
              color: "#ffe09c"
          hours_to_show: 24
          points_per_hour: 2
          show_points: false
          height: 60


### END COMMENT BLOCK 4: Weather and air quality



#### START COMMENT BLOCK 5: Location and Reminders

  - type: glance
    entities:
      - sensor.sean_location
      - sensor.sophie_location
      - sensor.alena_location
#        type: "custom:secondaryinfo-entity-row"
#        secondary_info: "ETA: [[ sensor.sean_tram_time_to_home ]]"

#
#  - type: custom:card-modder
#    report_size: 8
#    card:




##    - type: custom:vertical-stack-in-card
#  - type: vertical-stack
##      in_card: true
#    cards:
#
#    - type: "custom:button-card"
#      name: Reminders
#      styles:
#        name:
#          - color: var(--ha-card-header-color)
#          - justify-self: start
#          - padding-left: 16px
#        card:
#          - padding-top: 22px
#          - padding-bottom: 4px
#          - font-size: 24px

  - type: conditional
    conditions:
      - entity: binary_sensor.reminders_label
        state: "on"
    card:

      type: custom:mod-card
      report_size: 2
      card:
        type: "custom:calendar-card"
        entities:
          - calendar.alena_and_seans_calendar
      #    title: "Reminders"
        title: Reminders
        showProgressBar: false
        numberOfDays: 3
        hidePastEvents: true
        hideHeader: false
        timeFormat: 'hh:mm a'
#
#  - type: "custom:atomic-calendar-revive"
#    entities:
#    - entity: calendar.alena_and_seans_calendar
#    name: Reminders
#    maxDaysToShow: 3
#    showWeekDay: true
#### END COMMENT BLOCK 5: Location and Reminders
#
##      type: conditional
##      conditions:
##        - entity: binary_sensor.reminders_label
##          state: "on"
##      card:
##        type: custom:vertical-stack-in-card
##        cards:
##        - type: "custom:button-card"
##          name: Reminders
##          styles:
##            name:
##              - color: var(--ha-card-header-color)
##              - justify-self: start
##              - padding-left: 16px
##            card:
##              - padding-top: 22px
##              - padding-bottom: 4px
##              - font-size: 24px
##        - type: "custom:calendar-card"
##          entities:
##            - calendar.alena_and_seans_calendar
##      #    title: "Reminders"
##          showProgressBar: false
##          numberOfDays: 3
##          hidePastEvents: true
##          hideHeader: true
#
#
#
#### START COMMENT BLOCK 6: Cameras


#  - type: custom:state-switch
#    entity: input_select.sean_location_dropdown
#
#    states:
#      Home:

  - type: custom:mod-card
    report_size: 12
    card:

      type: vertical-stack
      cards:


    #       - type: conditional
    #         conditions:
    #           - entity: binary_sensor.seb_naptime
    #             state: "on"
    #         card:
    #           type: picture-glance
    # #            title: "Seb's Room"
    #           camera_image: camera.sebs_room
    #           camera_view: live
    #           entities: []



    #        - switch.camera_sebs_room_ir_lights
    #              - binary_sensor.sebs_room_motion
    #        - switch.camera_sebs_room_email
    #        - switch.camera_sebs_room_ftp

      - type: picture-glance
        aspect_ratio: 16x9
        entities: []
        show_state: false
        show_name: false
        camera_image: camera.front_stream
        camera_view: live

      - type: horizontal-stack
        cards:

        - type: picture-glance
          aspect_ratio: 9x16
          entities: []
          show_state: false
          show_name: false
          camera_image: camera.left_stream
          camera_view: live

        - type: picture-glance
          aspect_ratio: 9x16
          show_state: false
          show_name: false
          entities: []
          camera_image: camera.right_stream
          camera_view: live

      - type: picture-glance
        aspect_ratio: 16x9
        entities: []
        show_state: false
        show_name: false
        camera_image: camera.back_stream
        camera_view: live
#
#
#      default:
#        type: vertical-stack
#        cards:
#
##        - type: conditional
##          conditions:
##            - entity: binary_sensor.seb_naptime
##              state: "on"
##          card:
##            type: picture-glance
###            title: "Seb's Room"
##            camera_image: camera.sebs_room
###            camera_view: live
##            entities: []
##      #        - switch.camera_sebs_room_ir_lights
###              - binary_sensor.sebs_room_motion
##      #        - switch.camera_sebs_room_email
##      #        - switch.camera_sebs_room_ftp
#
#        - type: picture-glance
#          aspect_ratio: 16x9
#          entities: []
#          camera_image: camera.front_stream
#
#        - type: horizontal-stack
#          cards:
#
#          - type: picture-glance
#            aspect_ratio: 9x16
#            entities: []
#            camera_image: camera.left_stream
#
#          - type: picture-glance
#            aspect_ratio: 9x16
#            entities: []
#            camera_image: camera.right_stream
#
#        - type: picture-glance
#          aspect_ratio: 16x9
#          entities: []
#          camera_image: camera.back_stream
#

#### END COMMENT BLOCK 6: Cameras


#  - type: vertical-stack
#    cards:
#
#      - type: picture-glance
#        aspect_ratio: 16x9
#        entities: []
#        camera_image: camera.front_stream
#        camera_view: live
#
#      - type: horizontal-stack
#        cards:
#
#        - type: picture-glance
#          aspect_ratio: 9x16
#          entities: []
#          camera_image: camera.left_stream
#          camera_view: live
#
#        - type: picture-glance
#          aspect_ratio: 9x16
#          entities: []
#          camera_image: camera.right_stream
#          camera_view: live
#
#      - type: picture-glance
#        aspect_ratio: 16x9
#        entities: []
#        camera_image: camera.back_stream
#        camera_view: live

  # - type: custom:mod-card
  #   report_size: 6
  #   card:


### START COMMENT BLOCK 7: Music
#
#  - type: custom:mod-card
#    report_size: 8
#    card:
#
#      type: vertical-stack
#      cards:

  #      - type: entities
  #        title: Whole House
  #        show_header_toggle: false
  #        entities:
  #        - climate.straus_house 

    #      - type: gauge
    #        entity: sensor.current_rate_power_cost_per_day 
    #        name: "Current Electricity Use"
    #        unit: Kč/day
    #        min: 60
    #        max: 700
    #        severity:
    #          green: 0
    #          yellow: 250
    #          red: 350 
    #        
#
#      - type: vertical-stack
#        in_card: true
#        cards:

#
#          .mmp-shortcuts__button {
#            display:flow-root;
#            width:initial;
#          }
#      styles: |
#        .mmp-shortcuts__button {
#          display:  !important;
#          width:  !important;
#        }
#        style: |
#          .slot-container {
#            margin: 0px !important;
#          }
#
#        style: |
#          mmp-button {
#            font-size: 6px !important;
#          }
#        style: |
#          ha-card {
#            background: #00c40a;
#          }

  - entity: media_player.forked_daapd_server

    type: custom:mini-media-player
    name: Music
    source: icon
    artwork: material
#          icon: mdi:disc-player
    group: true
    hide:
      shuffle: false
      icon: true
      power: true
    shortcuts:
      columns: 4
      buttons:
        - name: "MIX"
          type: source
          id: "A: 4+5 Star (playlist)"
        - name: "JAZZ"
          type: source
          id: "Best Jazz (playlist)"
        - name: "ROCK"
          type: source
          id: "Best Rock (playlist)"
        - name: "POP"
          type: source
          id: "Best Pop (playlist)"
        - name: "CLASSIC"
          type: source
          id: "Classical (playlist)"
        - name: "BLACK"
          type: source
          id: "Best Black (playlist)"
        - name: "ELECTRO"
          type: source
          id: "Best Electronica (playlist)"
        - name: "KIDS"
          type: source
          id: "Kids - English (playlist)"
        - name: "KULTURA"
          type: source
          id: "radio kultura (playlist)"
        - name: "CLASSIC"
          type: source
          id: "Classical Radio (playlist)"
        - name: "JAZZ24"
          type: source
          id: "Jazz24 Radio (playlist)"
        - name: "EUROPA2"
          type: source
          id: "radio2 (playlist)"

#          shortcuts:
#            label: "Other Playlists"
#            list:
#              - name: "3+ star"
#                type: playlist
#                id: "a-3-star"
#              - name: "3+ Star / Unrated"
#                type: playlist
#                id: "a-3-star-unrated"
#              - name: "4+5 Star"
#                type: playlist
#                id: "a-45-star"
#              - name: "4+5 Star / Unrated"
#                type: playlist
#                id: "a-45-star-unrated"
#              - name: "4+5 Star+All Rock+Jazz"
#                type: playlist
#                id: "a-45-starall-rockjazz"
#              - name: "5 Star"
#                type: playlist
#                id: "a-5-star"
#              - name: "New Stuff"
#                type: playlist
#                id: "a-new-stuff"
#              - name: "New Stuff - Highly Rated"
#                type: playlist
#                id: "a-new-stuff-highly-rated"
#              - name: "New Stuff - Unrated"
#                type: playlist
#                id: "a-new-stuff-unrated"
#              - name: "Unrated Songs"
#                type: playlist
#                id: "a-unrated-songs"
#              - name: "All Black"
#                type: playlist
#                id: "all-black"
#              - name: "All Electronica"
#                type: playlist
#                id: "all-electronica"
#              - name: "All Jazz"
#                type: playlist
#                id: "all-jazz"
#              - name: "All Pop"
#                type: playlist
#                id: "all-pop"
#              - name: "All Rock"
#                type: playlist
#                id: "all-rock"
#              - name: "Black - Funk"
#                type: playlist
#                id: "black-funk"
#              - name: "Black - Hip Hop"
#                type: playlist
#                id: "black-hip-hop"
#              - name: "Black - R&B"
#                type: playlist
#                id: "black-rb"
#              - name: "Black - Rap"
#                type: playlist
#                id: "black-rap"
#              - name: "Black - Reggae/Ska/African"
#                type: playlist
#                id: "black-reggaeskaafrican"
#              - name: "Black - Soul"
#                type: playlist
#                id: "black-soul"
#              - name: "Black - Unrated"
#                type: playlist
#                id: "black-unrated"
#              - name: "Christmas"
#                type: playlist
#                id: "christmas"
#              - name: "Classical"
#                type: playlist
#                id: "classical"
#              - name: "Comedy"
#                type: playlist
#                id: "comedy"
#              - name: "Electronica - Ambient"
#                type: playlist
#                id: "electronica-ambient"
#              - name: "Electronica - Chill Out"
#                type: playlist
#                id: "electronica-chill-out"
#              - name: "Electronica - Dance"
#                type: playlist
#                id: "electronica-dance"
#              - name: "Electronica - Drum N Bass"
#                type: playlist
#                id: "electronica-drum-n-bass"
#              - name: "Good Black"
#                type: playlist
#                id: "good-black"
#              - name: "Good Electronica"
#                type: playlist
#                id: "good-electronica"
#              - name: "Good Jazz"
#                type: playlist
#                id: "good-jazz"
#              - name: "Good Pop"
#                type: playlist
#                id: "good-pop"
#              - name: "Good Rock"
#                type: playlist
#                id: "good-rock"
#              - name: "Jazz - 4+5 Star + Unrated"
#                type: playlist
#                id: "jazz-45-star-unrated"
#              - name: "Jazz - 70s Electronic"
#                type: playlist
#                id: "jazz-70s-electronic"
#              - name: "Jazz - Acid"
#                type: playlist
#                id: "jazz-acid"
#              - name: "Jazz - Acid Small"
#                type: playlist
#                id: "jazz-acid-small"
#              - name: "Jazz - Big Band"
#                type: playlist
#                id: "jazz-big-band"
#              - name: "Jazz - Classic"
#                type: playlist
#                id: "jazz-classic"
#              - name: "Jazz - Classic Small"
#                type: playlist
#                id: "jazz-classic-small"
#              - name: "Jazz - Jaco"
#                type: playlist
#                id: "jazz-jaco"
#              - name: "Jazz - Latin"
#                type: playlist
#                id: "jazz-latin"
#              - name: "Jazz - Modern"
#                type: playlist
#                id: "jazz-modern"
#              - name: "Jazz - Unrated"
#                type: playlist
#                id: "jazz-unrated"
#              - name: "Kids - English"
#                type: playlist
#                id: "kids-english"
#              - name: "Kids - Russian"
#                type: playlist
#                id: "kids-russian"
#              - name: "Kids Music Videos"
#                type: playlist
#                id: "kids-music-videos"
#              - name: "Music Videos"
#                type: playlist
#                id: "music-videos"
#              - name: "Pop - 80s"
#                type: playlist
#                id: "pop-80s"
#              - name: "Pop - Crowd Pleasers"
#                type: playlist
#                id: "pop-crowd-pleasers"
#              - name: "Pop - Modern"
#                type: playlist
#                id: "pop-modern"
#              - name: "Pop - Unrated"
#                type: playlist
#                id: "pop-unrated"
#              - name: "Recent Stuff - Highly Rated"
#                type: playlist
#                id: "recent-stuff-highly-rated"
#              - name: "Rock - 90s"
#                type: playlist
#                id: "rock-90s"
#              - name: "Rock - 00s"
#                type: playlist
#                id: "rock-00s"
#              - name: "Rock - 4+5 Star + Unrated"
#                type: playlist
#                id: "rock-45-star-unrated"
#              - name: "Rock - Alternative"
#                type: playlist
#                id: "rock-alternative"
#              - name: "Rock - AltRock"
#                type: playlist
#                id: "rock-altrock"
#              - name: "Rock - Classic"
#                type: playlist
#                id: "rock-classic"
#              - name: "Rock - College"
#                type: playlist
#                id: "rock-college"
#              - name: "Rock - Mellow"
#                type: playlist
#                id: "rock-mellow"
#              - name: "Rock - Metal"
#                type: playlist
#                id: "rock-metal"
#              - name: "Rock - Modern"
#                type: playlist
#                id: "rock-modern"
#              - name: "Rock - Nu Metal"
#                type: playlist
#                id: "rock-nu-metal"
#              - name: "Rock - Progressive"
#                type: playlist
#                id: "rock-progressive"
#              - name: "Rock - Unrated"
#                type: playlist
#                id: "rock-unrated"
#              - name: "Rock + Pop"
#                type: playlist
#                id: "rock-pop"
#              - name: "Ambient Sleeping Pill"
#                type: playlist
#                id: "ambient-sleeping-pill"
#              - name: "Europa2"
#                type: playlist
#                id: "europa2"
#              - name: "Jazz24"
#                type: playlist
#                id: "jazz24"
#              - name: "Radio Kultura RU"
#                type: playlist
#                id: "radio-kultura-ru"
#              - name: "Radio Swiss Classic"
#                type: playlist
#                id: "radio-swiss-classic"
#              - name: "Acid Jazz + Chill Out"
#                type: playlist
#                id: "z-acid-jazz-chill-out"
#              - name: "AlteyRock"
#                type: playlist
#                id: "z-alteyrock"
#              - name: "Jazz+Funk"
#                type: playlist
#                id: "z-jazzfunk"
#              - name: "Jazz+Latin"
#                type: playlist
#                id: "z-jazzlatin"
#              - name: "Mine"
#                type: playlist
#                id: "z-mine"
#              - name: "Proletariat Rock"
#                type: playlist
#                id: "z-proletariat-rock"
#              - name: "Rocker's Rock"
#                type: playlist
#                id: "z-rockers-rock"
#              - name: "Alena's"
#                type: playlist
#                id: "zz-alenas"
#              - name: "Beach Music"
#                type: playlist
#                id: "z-beach-music"
#              - name: "DJ Cuts"
#                type: playlist
#                id: "z-dj-cuts"
#              - name: "Driving Music"
#                type: playlist
#                id: "z-driving-music"
#              - name: "Lounge"
#                type: playlist
#                id: "z-lounge"
#              - name: "Mellow Music"
#                type: playlist
#                id: "z-mellow-music"
#              - name: "Palettable Rock"
#                type: playlist
#                id: "z-palettable-rock"
#              - name: "San Tropez"
#                type: playlist
#                id: "san-tropez"
#              - name: "Wacky Cheerful Music"
#                type: playlist
#                id: "z-wacky-cheerful-music"
#              - name: "Waver Friendly"
#                type: playlist
#                id: "z-waver-friendly"
#              - name: "Wedding music"
#                type: playlist
#                id: "z-wedding-music"

#        - type: entities
#          show_header_toggle: false
#          entities:
#            - entity: input_boolean.itunes_shuffle

  #    - type: "custom:button-card"
  #      name: SHUFFLE
  #      styles:
  #        card:
  #          - padding: 12px 0px
  #          - font-size: 14px
  #      tap_action: 
  #        action: call-service
  #        service: switch.toggle
  #        service_data:
  #          entity_id: "switch.shuffle"
#
#
#      - type: horizontal-stack
#        cards:
#
#
#        - type: "custom:button-card"
#          name: MIX
#          styles:
#            card:
#              - padding: 12px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "a-45-star"
#              media_content_type: "playlist"
#
#        - type: "custom:button-card"
#          name: JAZZ
#          styles:
#            card:
#              - padding: 12px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "best-jazz"
#              media_content_type: "playlist"
#
#        - type: "custom:button-card"
#          name: ROCK
#          styles:
#            card:
#              - padding: 12px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "best-rock"
#              media_content_type: "playlist"           
#
#        - type: "custom:button-card"
#          name: POP
#          styles:
#            card:
#              - padding: 12px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "best-pop"
#              media_content_type: "playlist"
#
#
#      - type: horizontal-stack
#        cards:
#
#
#        - type: "custom:button-card"
#          name: CLASSICAL
#          styles:
#            card:
#              - padding: 12px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "classical"
#              media_content_type: "playlist"
#
#        - type: "custom:button-card"
#          name: BLACK
#          styles:
#            card:
#              - padding: 12px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "best-black"
#              media_content_type: "playlist"
#
#        - type: "custom:button-card"
#          name: ELECTRO
#          styles:
#            card:
#              - padding: 12px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "best-electronica"
#              media_content_type: "playlist"
#
#        - type: "custom:button-card"
#          name: KIDS
#          styles:
#            card:
#              - padding: 12px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "kids-english"
#              media_content_type: "playlist"
#
#      - type: horizontal-stack
#        cards:
#
#        - type: "custom:button-card"
#          name: KULTURA <br> RADIO
#          styles:
#            card:
#              - padding: 4px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "radio-kultura-ru"
#              media_content_type: "playlist"
#
#        - type: "custom:button-card"
#          name: CLASSICAL <br> RADIO
#          styles:
#            card:
#              - padding: 4px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "radio-swiss-classic"
#              media_content_type: "playlist"
#
#        - type: "custom:button-card"
#          name: JAZZ24 <br> RADIO
#          styles:
#            card:
#              - padding: 4px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "jazz24"
#              media_content_type: "playlist"
#
#        - type: "custom:button-card"
#          name: EUROPA2 <br> RADIO
#          styles:
#            card:
#              - padding: 4px 0px
#              - font-size: 14px
#          tap_action: 
#            action: call-service
#            service: media_player.play_media 
#            service_data:
#              entity_id: "media_player.itunes"
#              media_content_id: "europa2"
#              media_content_type: "playlist"

  #    - type: entities
  #      title: Whole House
  #      show_header_toggle: false
  #      entities:
  #       - climate.straus_house 
  #      - switch.mix
  #      - switch.jazz
  #      - switch.rock
  #      - switch.pop
  #      - switch.classical
  #      - switch.black
  #      - switch.electronica 
  #      - switch.kids

#  - type: custom:vertical-stack-in-card
#    cards:

#### END COMMENT BLOCK 7: Music

### START COMMENT BLOCK 8: Entity Cards

  - type: entities
    title: First Floor
    show_header_toggle: false
    entities:
#    - entity: media_player.living_room_airtunes_speaker
    - entity: media_player.forked_daapd_output_living_room
      type: custom:mini-media-player
      name: Living Rm
      hide:
        controls: true
        mute: true
      group: true
#    - entity: media_player.kitchen_airtunes_speaker
    - entity: media_player.forked_daapd_output_kitchen
      type: custom:mini-media-player
      name: Kitchen Speakers
      hide:
        controls: true
        mute: true
      group: true
#    - entity: media_player.bathroom_1st_floor_airtunes_speaker
    - entity: media_player.forked_daapd_output_bathroom_1st_floor
      type: custom:mini-media-player
      name: Bathroom Speakers
      hide:
        controls: true
        mute: true
      group: true
#    - entity: media_player.apple_tv_airtunes_speaker
    - entity: media_player.forked_daapd_output_apple_tv
      type: custom:mini-media-player
      name: Apple TV
      hide:
        controls: true
        mute: true
      group: true
    - entity: media_player.chromecast
      type: custom:mini-media-player
      name: Chromecast
      hide:
        controls: true
        mute: true
      group: true
    - type: custom:fold-entity-row
      head: 
        entity: input_number.dreamscreen_brightness
        icon: mdi:looks
        name: Dreamscreen
#    - type: custom:fold-entity-row
#      head: 
#        entity: custom:slider-entity-row
#        entity: light.dreamscreen
#        icon: mdi:looks
#        name: Dreamscreen
      entities:
        - entity: light.dreamscreen
          name: Color / Switch
        - entity: input_select.dreamscreen_mode
          name: Mode
        - entity: input_select.dreamscreen_scene
          name: Scene

      name: Dreamscreen
    - climate.entrance
    - climate.living_room
    - climate.dining_room
#  - type: custom:light-entity-card
#    entity: light.dreamscreen
#    effects_list: input_select.dreamscreen_scene
#    shorten_cards: true


  - type: entities
    title: Second Floor
    show_header_toggle: false
    entities: 
    - entity: fan.master_bedroom_air_purifier
      name: "Master Bedroom Air Purifier"
      type: "custom:secondaryinfo-entity-row"
      secondary_info: "Air Quality: [[  sensor.master_bedroom_aqi_description.state ]]"
#    - entity: media_player.master_bedroom_airtunes_speaker
    - entity: media_player.forked_daapd_output_master_bedroom
      type: custom:mini-media-player
      name: "Master Bedroom Speakers"
      hide:
        controls: true
        mute: true
      group: true
    - entity: media_player.forked_daapd_output_master_bath
#    - entity: media_player.master_bath_airtunes_speaker
      type: custom:mini-media-player
      name: "Master Bath Speakers"
      hide:
        controls: true
        mute: true
      group: true
    - entity: media_player.forked_daapd_output_office
#    - entity: media_player.office_airtunes_speaker
      type: custom:mini-media-player
      name: Office Speakers
      hide:
        controls: true
        mute: true
      group: true
    - entity: media_player.forked_daapd_output_library
#    - entity: media_player.library_airtunes_speaker
      type: custom:mini-media-player
      name: Library Speakers
      hide:
        controls: true
        mute: true
      group: true
#    - entity: media_player.computer_airtunes_speaker
#      type: custom:mini-media-player
#      name: Computer Speakers
#      hide:
#        controls: true
#        mute: true
#      group: true
    - entity: climate.master_bedroom
      name: Bedroom
    - entity: climate.master_bath
      name: Bath
    - entity: climate.master_closet
      name: Closet
    - entity: climate.office_library
      name: Office
   

  - type: entities
    title: Third Floor
    show_header_toggle: false
    entities:
    - entity: input_boolean.sophies_air_purifier
      name: "Sophie's Room Air Purifier"
      type: "custom:secondaryinfo-entity-row"
      secondary_info: "Air Quality: [[  sensor.sophies_room_aqi_description.state ]]"
    - entity: input_boolean.sebastians_air_purifier
      name: "Seb's Room Air Purifier"
      type: "custom:secondaryinfo-entity-row"
      secondary_info: "Air Quality: [[  sensor.sebastians_room_aqi_description.state ]]"
#    - entity: media_player.sophie_s_room_airtunes_speaker
    - entity: media_player.forked_daapd_output_sophie_s_room
      type: custom:mini-media-player
      name: "Sophie's Room Speakers"
      hide:
        controls: true
        mute: true
      group: true
    - entity: media_player.forked_daapd_output_sebastian_s_room
#    - entity: media_player.sebastian_s_room_airtunes_speaker
      type: custom:mini-media-player
      name: "Seb's Room Speakers"
      hide:
        controls: true
        mute: true
      group: true
    - entity: media_player.forked_daapd_output_gym
#    - entity: media_player.gym_airtunes_speaker
      type: custom:mini-media-player
      name: Gym Speakers
      hide:
        controls: true
        mute: true
      group: true
    - climate.sebastian_s_room
    - entity: climate.sophie_s_room
      name: Sophie Heat
    - entity: climate.sophie_s_room_ac
      name: Sophie AC
      icon: mdi:air-conditioner
    - climate.guest_bedroom

    style: 
      font-size: 20px

#  - type: custom:card-modder
#    report_size: 8
#    card:      
#  - type: custom:mod-card
#    report_size: 5
#    card:

#      type: custom:vertical-stack-in-card
  - type: vertical-stack
    in_card: true
    cards: 

    - type: entity-filter
      card:
        show_header_toggle: false
        title: Mini Countryman S E
      state_filter:
      - operator: "!="
        value: "unknown"
      entities:
      - entity: sensor.cooper_s_e_all4_charging_time_remaining
        name: Charging Time
      - entity: sensor.cooper_s_e_all4_charging_level_hv
        name: Charge Level
      - entity: sensor.cooper_s_e_all4_remaining_range_electric
        name: Electric Range
        icon: mdi:car-battery
      - entity: sensor.cooper_s_e_all4_remaining_range_total
        name: Total Range
        icon: mdi:gas-station
      - entity: input_boolean.mini_countryman_clima
      show_empty: false

    - type: entity-filter
      entities:
      - entity: sensor.car_needs_charging
      - entity: sensor.low_gas_in_car
      - entity: binary_sensor.cooper_s_e_all4_charging_status
        name: Charging
      - entity: binary_sensor.cooper_s_e_all4_check_control_messages
        name: Control Problem
      - entity: binary_sensor.cooper_s_e_all4_condition_based_services
        name: Condition Problem
      - entity: binary_sensor.cooper_s_e_all4_door_lock_state
        name: Car is
      - entity: binary_sensor.cooper_s_e_all4_lids
        name: Doors
      - entity: binary_sensor.cooper_s_e_all4_lights_parking
        name: Lights
      - entity: binary_sensor.cooper_s_e_all4_windows
        name: Windows
      state_filter:
      - "on"
      - "DISCONNECTED"
      - "Charge It"
      - "Fill It"
      card: 
        type: glance
      show_empty: false  

  - type: entities
    title: Basement
    show_header_toggle: false
    entities:
    - climate.garage
    - climate.laundry_room

  - type: entities
    title: Outside
    show_header_toggle: false
    entities:

  #        - sensor.us_air_pollution_level
  #          icon: mdi:gauge
  #        - sensor.us_air_quality_index
  #        - sensor.us_main_pollutant
    - entity: media_player.forked_daapd_output_back_yard
#    - entity: media_player.back_yard_airtunes_speaker
      type: custom:mini-media-player
      name: Back Yard Speakers
      hide:
        controls: true
        mute: true
      group: true

### END COMMENT BLOCK 8: Entity Cards


### START COMMENT BLOCK 9: Search Card

  - type: custom:search-card
    max_results: 50
#  - type: custom:theme-maker

### END COMMENT BLOCK 9: Search Card



